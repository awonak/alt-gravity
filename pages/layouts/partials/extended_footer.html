<script src="https://github.com/dbuezas/arduino-web-uploader/releases/download/v1.0.0/main.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EKDQSCFEDF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EKDQSCFEDF', { 'page_path': location.pathname + location.hash });
  // Attach gtag download event when arduino-uploader buttons are present.
  // Note: doesn't not distinguish between successful / unsuccessful flash.
  document.querySelectorAll('[arduino-uploader]').forEach((el) => {
    el.addEventListener('click', async () => {
      gtag('event', 'download_firmware', {
        'file': el.getAttribute('hex-href'),
        'page_path': location.pathname + location.hash,
      });
    })
  });
</script>
